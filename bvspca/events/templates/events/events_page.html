{% extends "base.html" %}
{% load staticfiles wagtailcore_tags wagtailimages_tags %}

{% block content %}
  <div class="events-page">
    <h1>{{ page.title }}</h1>
    <div class="events">
      {% for event in events %}
        <a class="event-overview {% if forloop.counter|divisibleby:2 %}even{% else %}odd{% endif %}" href="{% pageurl event %}">
          <div class="event-overview__photo">
            {% if event.photo %}
              {% image event.photo fill-200x150 %}
            {% else %}
              {% image event.photo fill-200x150 %}
            {% endif %}
          </div>
          <div class="event-overview__details">
            <div class="event-overview__date">{{ event.formatted_date }}</div>
            <div class="event-overview__title">{{ event.title }}{% if event.published_status %}<span class="published-status {{ event.published_status }}">{{ event.published_status }}</span>{% endif %}</div>
            <div class="event-overview__summary">
              {{ event.details|truncatewords_html:50|striptags }}
            </div>
          </div>
        </a>
      {% empty %}
        <li class="empty-list"><img src="{% static 'svg/warning.svg' %}">No events available</li>
      {% endfor %}
    </div>
    {#      {% include 'core/includes/pagination.html' with target=events %}#}
  </div>
{% endblock content %}

{% block extra_javascript %}
  <script src="{% static 'dist/events.js' %}"></script>
{% endblock extra_javascript %}
